{
  "image": "rapidsai/devcontainers:23.04-cpp-llvm16-cuda12.0-nvhpc23.1-ubuntu22.04",

  "hostRequirements": { "gpu": true },

  "initializeCommand": "mkdir -p .cache",
  "postAttachCommand": ["/opt/devcontainer/bin/post-attach-command.sh"],

  "containerEnv": {
    "SCCACHE_REGION": "us-east-2",
    "SCCACHE_BUCKET": "rapids-sccache-devs",
    "VAULT_HOST": "https://vault.ops.k8s.rapids.ai",
    "HISTFILE": "${containerWorkspaceFolder}/.cache/._bash_history"
  },

  "customizations": {
    "vscode": {
      "extensions": [
        "augustocdias.tasks-shell-input"
      ],
      "settings": {
        "debug.toolBarLocation": "docked",
        "editor.hover.delay": 500,
        "editor.hover.sticky": true,
        "editor.inlayHints.enabled": "off",
        "files.autoSave": "off",
        "files.trimFinalNewlines": true,
        "files.insertFinalNewline": true,
        "files.trimTrailingWhitespace": true,
        "[c]": {
          "editor.tabSize": 2,
          "editor.formatOnSave": false,
          "editor.formatOnSaveMode": "file"
        },
        "[cpp]": {
          "editor.tabSize": 2,
          "editor.formatOnSave": false,
          "editor.formatOnSaveMode": "file"
        },
        "[cuda-cpp]": {
          "editor.tabSize": 2,
          "editor.formatOnSave": false,
          "editor.formatOnSaveMode": "file"
        }
      }
    }
  }
}
